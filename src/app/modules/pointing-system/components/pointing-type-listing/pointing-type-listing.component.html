<div class="card">
    <p-toast></p-toast>
    <div class="iAware-loading-table-container" style="position: relative;">
        <app-table-loading-spinner *ngIf="tableLoadingSpinner"></app-table-loading-spinner>
        <p-table #dt [value]="pointingTypes" [paginator]="true" [rows]="pagination.size" [showCurrentPageReport]="true"
            responsiveLayout="scroll" [rowsPerPageOptions]="[10, 25, 50]" [totalRecords]="totalRecords" [lazy]="true"
            (onLazyLoad)="onLazyLoad($event)">
            <ng-template pTemplate="header">
                <tr>
                    <th class="white-space-nowrap" style="width: 25%">
                        {{'pointing-system.id' | translate}}
                    </th>
                    <th class="white-space-nowrap" style="width: 25%">
                        {{'pointing-system.title' | translate}}
                    </th>
                    <th>{{'pointing-system.value' | translate}}</th>
                    <th style="width: 25%" class="text-center">{{ 'shared.actions.action' | translate }}</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-pointType>
                <tr>
                    <td>#{{ pointType.id }}</td>
                    <td>{{ pointType.pointingTitle }}</td>
                    <td>{{ pointType.pointingValue }}</td>
                    <td class="text-center">
                        <button *ngIf="hasPermission(actions.edit)" pButton icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2"
                            (click)="openEditDialog(pointType)"></button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<p-dialog [(visible)]="editDialog" [style]="{ width: '30%', height:'30%' }"
    header="{{ 'pointing-system.editHeader' | translate }}" [modal]="true"
    class="p-fluid">
    <ng-template pTemplate="content">
        <div class="grid">
            <div class="col-12">
                <div class="grid formgrid p-fluid">
                    <div class="field mb-4 col-12">
                        <label for="name" class="font-medium text-900">{{'pointing-system.value' | translate}}</label>
                        <input id="name" type="text" pInputText [(ngModel)]="currentPointType.pointingValue">
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template pTemplate="footer">
        <button pButton pRipple label="{{ 'shared.actions.cancel' | translate }}" icon="pi pi-times" class="p-button-text" (click)="editDialog = false"></button>
        <button pButton pRipple label="{{ 'shared.actions.save' | translate }}" icon="pi pi-check" class="p-button-text"
            (click)="editPointingType()"></button>
    </ng-template>
</p-dialog>